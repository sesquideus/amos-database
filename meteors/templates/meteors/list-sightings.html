{% extends 'core/base.html' %}
{% load static %}

{% block pagetitle %}
    <h2>Sightings</h2>
{% endblock pagetitle %}
{% block page %}
    <table>
        <tr>
            <th>timestamp</th>
            <th>meteor</th>
            <th>station</th>
            <th>magnitude</th>
            <th>elevation</th>
            <th>azimuth</th>
        </tr>
        {% for sighting in sightings %}
        <tr>
            <td id="{{ sighting.id }}-timestamp">
                <a href="{% url 'sighting' id=sighting.id %}">{{ sighting.lightmaxTime|date:"Y-m-d H:i:s" }}</a>
            </td>
            <td {% if not sighting.meteor %}class="empty"{% endif %}>
                {% if sighting.meteor %}
                    <a href="{% url 'meteor' id=sighting.meteor.id %}">{{ sighting.meteor }}</a>
                {% else %}
                    (none)
                {% endif %}
            </td>
            <td class="c">
                <a href="{% url 'station' code=sighting.station.code %}">{{ sighting.station.code }}</a>
            </td>
            <td class="r" style="background-color: {{ sighting.colour }}; color: {{ sighting.colourText }}">{% if sighting.magnitude > 0 %}+{% endif %}{{ sighting.magnitude|floatformat:1 }}<sup>m</sup></td>
            <td class="r">{{ sighting.lightmaxElevation|floatformat:1 }}°</td>
            <td class="r">{{ sighting.lightmaxAzimuth|floatformat:1 }}°</td>
        </tr>
        {% empty %}
            <tr class="empty">
                <td colspan="6">There are no recorded sightings in the database.</td>
            </tr>
        {% endfor %}
    </table>
{% endblock %}
