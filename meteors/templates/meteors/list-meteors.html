{% extends 'core/base.html' %}
{% load static %}

{% block headextra %}
    <script src="http://www.openlayers.org/api/OpenLayers.js"></script>
    <script src="{% static 'meteors/js/map.js' %}"></script>
{% endblock headextra %}

{% block pagetitle %}
    <h2>Meteors</h2>
{% endblock %}

{% block page %}
    <table>
        <tr>
            <th>Timestamp</th>
            <th>Magnitude</th>
            <th>Trail start</th>
            <th>Trail end</th>
            <th>Velocity</th>
        </tr>
        {% for meteor in meteors %}
            <tr>
                <td><a href="{% url 'meteor' id=meteor.id %}">{{ meteor.timestamp|date:"Y-m-d H:i:s.u" }}</a></td>
                <td style="background-color: {{ meteor.colour }}; color: {{ meteor.colourText }}">{{ meteor.magnitude|stringformat:"+.2f" }}<sup>m</sup></td>
                <td>{{ meteor.trailStartX }}</td>
                <td>{{ meteor.trailEndX }}</td>
                <td>{{ meteor.speed|floatformat:0|default:"?" }} m/s</td>
            </tr>
        {% empty %}
            <tr>
                <td class="empty" colspan="5">There are no recorded meteors in the database.</td>
            </tr>
        {% endfor %}
    </table>

    <h3>Map</h3>
        <div id="map" class="map" style="width: 100%; height: 500px"> </div>
{% endblock %}
